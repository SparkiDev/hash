/*
 * Copyright (c) 2016 Sean Parkinson (sparkinson@iprimus.com.au)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

#include <stdint.h>

#ifndef HASH_SHA3_SMALL
/**
 * Rotate a 64-bit value left.
 *
 * @param [in] a  The number to rotate left.
 * @param [in] r  The number od bits to rotate left.
 * @return  The rotated number.
 */
#define ROTL64(a, n)    (((a)<<(n))|((a)>>(64-(n))))

/**
 * The block operation performed on the state.
 *
 * @param [in] s  The state.
 */
void hash_keccak_block(uint64_t *s)
{
    uint64_t b[5], t;

    b[0] = s[0] ^ s[5] ^ s[10] ^ s[15] ^ s[20];
    b[1] = s[1] ^ s[6] ^ s[11] ^ s[16] ^ s[21];
    b[2] = s[2] ^ s[7] ^ s[12] ^ s[17] ^ s[22];
    b[3] = s[3] ^ s[8] ^ s[13] ^ s[18] ^ s[23];
    b[4] = s[4] ^ s[9] ^ s[14] ^ s[19] ^ s[24];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[5]^=t; s[10]^=t; s[15]^=t; s[20]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[1]^=t; s[6]^=t; s[11]^=t; s[16]^=t; s[21]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[2]^=t; s[7]^=t; s[12]^=t; s[17]^=t; s[22]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[3]^=t; s[8]^=t; s[13]^=t; s[18]^=t; s[23]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[4]^=t; s[9]^=t; s[14]^=t; s[19]^=t; s[24]^=t;
    s[1] = ROTL64(s[1], 1);
    s[10] = ROTL64(s[10], 3);
    s[7] = ROTL64(s[7], 6);
    s[11] = ROTL64(s[11], 10);
    s[17] = ROTL64(s[17], 15);
    s[18] = ROTL64(s[18], 21);
    s[3] = ROTL64(s[3], 28);
    s[5] = ROTL64(s[5], 36);
    s[16] = ROTL64(s[16], 45);
    s[8] = ROTL64(s[8], 55);
    s[21] = ROTL64(s[21], 2);
    s[24] = ROTL64(s[24], 14);
    s[4] = ROTL64(s[4], 27);
    s[15] = ROTL64(s[15], 41);
    s[23] = ROTL64(s[23], 56);
    s[19] = ROTL64(s[19], 8);
    s[13] = ROTL64(s[13], 25);
    s[12] = ROTL64(s[12], 43);
    s[2] = ROTL64(s[2], 62);
    s[20] = ROTL64(s[20], 18);
    s[14] = ROTL64(s[14], 39);
    s[22] = ROTL64(s[22], 61);
    s[9] = ROTL64(s[9], 20);
    s[6] = ROTL64(s[6], 44);
    b[0] = s[0];
    b[1] = s[6];
    b[2] = s[12];
    b[3] = s[18];
    b[4] = s[24];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[6] =  t12 ^ (b[2] | b[3]);
        s[12] = b[2] ^ (b[4] &  t34);
        s[18] =  t34 ^ (b[4] | b[0]);
        s[24] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[3];
    b[1] = s[9];
    b[2] = s[10];
    b[3] = s[16];
    b[4] = s[22];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[3] = b[0] ^ (b[2] &  t12);
        s[9] =  t12 ^ (b[2] | b[3]);
        s[10] = b[2] ^ (b[4] &  t34);
        s[16] =  t34 ^ (b[4] | b[0]);
        s[22] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[1];
    b[1] = s[7];
    b[2] = s[13];
    b[3] = s[19];
    b[4] = s[20];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[1] = b[0] ^ (b[2] &  t12);
        s[7] =  t12 ^ (b[2] | b[3]);
        s[13] = b[2] ^ (b[4] &  t34);
        s[19] =  t34 ^ (b[4] | b[0]);
        s[20] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[4];
    b[1] = s[5];
    b[2] = s[11];
    b[3] = s[17];
    b[4] = s[23];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[4] = b[0] ^ (b[2] &  t12);
        s[5] =  t12 ^ (b[2] | b[3]);
        s[11] = b[2] ^ (b[4] &  t34);
        s[17] =  t34 ^ (b[4] | b[0]);
        s[23] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[2];
    b[1] = s[8];
    b[2] = s[14];
    b[3] = s[15];
    b[4] = s[21];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[2] = b[0] ^ (b[2] &  t12);
        s[8] =  t12 ^ (b[2] | b[3]);
        s[14] = b[2] ^ (b[4] &  t34);
        s[15] =  t34 ^ (b[4] | b[0]);
        s[21] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x1UL;
    b[0] = s[0] ^ s[3] ^ s[1] ^ s[4] ^ s[2];
    b[1] = s[6] ^ s[9] ^ s[7] ^ s[5] ^ s[8];
    b[2] = s[12] ^ s[10] ^ s[13] ^ s[11] ^ s[14];
    b[3] = s[18] ^ s[16] ^ s[19] ^ s[17] ^ s[15];
    b[4] = s[24] ^ s[22] ^ s[20] ^ s[23] ^ s[21];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[3]^=t; s[1]^=t; s[4]^=t; s[2]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[6]^=t; s[9]^=t; s[7]^=t; s[5]^=t; s[8]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[12]^=t; s[10]^=t; s[13]^=t; s[11]^=t; s[14]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[18]^=t; s[16]^=t; s[19]^=t; s[17]^=t; s[15]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[24]^=t; s[22]^=t; s[20]^=t; s[23]^=t; s[21]^=t;
    s[6] = ROTL64(s[6], 1);
    s[1] = ROTL64(s[1], 3);
    s[10] = ROTL64(s[10], 6);
    s[7] = ROTL64(s[7], 10);
    s[11] = ROTL64(s[11], 15);
    s[17] = ROTL64(s[17], 21);
    s[18] = ROTL64(s[18], 28);
    s[3] = ROTL64(s[3], 36);
    s[5] = ROTL64(s[5], 45);
    s[16] = ROTL64(s[16], 55);
    s[8] = ROTL64(s[8], 2);
    s[21] = ROTL64(s[21], 14);
    s[24] = ROTL64(s[24], 27);
    s[4] = ROTL64(s[4], 41);
    s[15] = ROTL64(s[15], 56);
    s[23] = ROTL64(s[23], 8);
    s[19] = ROTL64(s[19], 25);
    s[13] = ROTL64(s[13], 43);
    s[12] = ROTL64(s[12], 62);
    s[2] = ROTL64(s[2], 18);
    s[20] = ROTL64(s[20], 39);
    s[14] = ROTL64(s[14], 61);
    s[22] = ROTL64(s[22], 20);
    s[9] = ROTL64(s[9], 44);
    b[0] = s[0];
    b[1] = s[9];
    b[2] = s[13];
    b[3] = s[17];
    b[4] = s[21];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[9] =  t12 ^ (b[2] | b[3]);
        s[13] = b[2] ^ (b[4] &  t34);
        s[17] =  t34 ^ (b[4] | b[0]);
        s[21] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[18];
    b[1] = s[22];
    b[2] = s[1];
    b[3] = s[5];
    b[4] = s[14];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[18] = b[0] ^ (b[2] &  t12);
        s[22] =  t12 ^ (b[2] | b[3]);
        s[1] = b[2] ^ (b[4] &  t34);
        s[5] =  t34 ^ (b[4] | b[0]);
        s[14] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[6];
    b[1] = s[10];
    b[2] = s[19];
    b[3] = s[23];
    b[4] = s[2];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[6] = b[0] ^ (b[2] &  t12);
        s[10] =  t12 ^ (b[2] | b[3]);
        s[19] = b[2] ^ (b[4] &  t34);
        s[23] =  t34 ^ (b[4] | b[0]);
        s[2] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[24];
    b[1] = s[3];
    b[2] = s[7];
    b[3] = s[11];
    b[4] = s[15];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[24] = b[0] ^ (b[2] &  t12);
        s[3] =  t12 ^ (b[2] | b[3]);
        s[7] = b[2] ^ (b[4] &  t34);
        s[11] =  t34 ^ (b[4] | b[0]);
        s[15] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[12];
    b[1] = s[16];
    b[2] = s[20];
    b[3] = s[4];
    b[4] = s[8];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[12] = b[0] ^ (b[2] &  t12);
        s[16] =  t12 ^ (b[2] | b[3]);
        s[20] = b[2] ^ (b[4] &  t34);
        s[4] =  t34 ^ (b[4] | b[0]);
        s[8] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8082UL;
    b[0] = s[0] ^ s[18] ^ s[6] ^ s[24] ^ s[12];
    b[1] = s[9] ^ s[22] ^ s[10] ^ s[3] ^ s[16];
    b[2] = s[13] ^ s[1] ^ s[19] ^ s[7] ^ s[20];
    b[3] = s[17] ^ s[5] ^ s[23] ^ s[11] ^ s[4];
    b[4] = s[21] ^ s[14] ^ s[2] ^ s[15] ^ s[8];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[18]^=t; s[6]^=t; s[24]^=t; s[12]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[9]^=t; s[22]^=t; s[10]^=t; s[3]^=t; s[16]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[13]^=t; s[1]^=t; s[19]^=t; s[7]^=t; s[20]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[17]^=t; s[5]^=t; s[23]^=t; s[11]^=t; s[4]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[21]^=t; s[14]^=t; s[2]^=t; s[15]^=t; s[8]^=t;
    s[9] = ROTL64(s[9], 1);
    s[6] = ROTL64(s[6], 3);
    s[1] = ROTL64(s[1], 6);
    s[10] = ROTL64(s[10], 10);
    s[7] = ROTL64(s[7], 15);
    s[11] = ROTL64(s[11], 21);
    s[17] = ROTL64(s[17], 28);
    s[18] = ROTL64(s[18], 36);
    s[3] = ROTL64(s[3], 45);
    s[5] = ROTL64(s[5], 55);
    s[16] = ROTL64(s[16], 2);
    s[8] = ROTL64(s[8], 14);
    s[21] = ROTL64(s[21], 27);
    s[24] = ROTL64(s[24], 41);
    s[4] = ROTL64(s[4], 56);
    s[15] = ROTL64(s[15], 8);
    s[23] = ROTL64(s[23], 25);
    s[19] = ROTL64(s[19], 43);
    s[13] = ROTL64(s[13], 62);
    s[12] = ROTL64(s[12], 18);
    s[2] = ROTL64(s[2], 39);
    s[20] = ROTL64(s[20], 61);
    s[14] = ROTL64(s[14], 20);
    s[22] = ROTL64(s[22], 44);
    b[0] = s[0];
    b[1] = s[22];
    b[2] = s[19];
    b[3] = s[11];
    b[4] = s[8];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[22] =  t12 ^ (b[2] | b[3]);
        s[19] = b[2] ^ (b[4] &  t34);
        s[11] =  t34 ^ (b[4] | b[0]);
        s[8] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[17];
    b[1] = s[14];
    b[2] = s[6];
    b[3] = s[3];
    b[4] = s[20];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[17] = b[0] ^ (b[2] &  t12);
        s[14] =  t12 ^ (b[2] | b[3]);
        s[6] = b[2] ^ (b[4] &  t34);
        s[3] =  t34 ^ (b[4] | b[0]);
        s[20] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[9];
    b[1] = s[1];
    b[2] = s[23];
    b[3] = s[15];
    b[4] = s[12];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[9] = b[0] ^ (b[2] &  t12);
        s[1] =  t12 ^ (b[2] | b[3]);
        s[23] = b[2] ^ (b[4] &  t34);
        s[15] =  t34 ^ (b[4] | b[0]);
        s[12] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[21];
    b[1] = s[18];
    b[2] = s[10];
    b[3] = s[7];
    b[4] = s[4];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[21] = b[0] ^ (b[2] &  t12);
        s[18] =  t12 ^ (b[2] | b[3]);
        s[10] = b[2] ^ (b[4] &  t34);
        s[7] =  t34 ^ (b[4] | b[0]);
        s[4] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[13];
    b[1] = s[5];
    b[2] = s[2];
    b[3] = s[24];
    b[4] = s[16];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[13] = b[0] ^ (b[2] &  t12);
        s[5] =  t12 ^ (b[2] | b[3]);
        s[2] = b[2] ^ (b[4] &  t34);
        s[24] =  t34 ^ (b[4] | b[0]);
        s[16] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x800000000000808aUL;
    b[0] = s[0] ^ s[17] ^ s[9] ^ s[21] ^ s[13];
    b[1] = s[22] ^ s[14] ^ s[1] ^ s[18] ^ s[5];
    b[2] = s[19] ^ s[6] ^ s[23] ^ s[10] ^ s[2];
    b[3] = s[11] ^ s[3] ^ s[15] ^ s[7] ^ s[24];
    b[4] = s[8] ^ s[20] ^ s[12] ^ s[4] ^ s[16];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[17]^=t; s[9]^=t; s[21]^=t; s[13]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[22]^=t; s[14]^=t; s[1]^=t; s[18]^=t; s[5]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[19]^=t; s[6]^=t; s[23]^=t; s[10]^=t; s[2]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[11]^=t; s[3]^=t; s[15]^=t; s[7]^=t; s[24]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[8]^=t; s[20]^=t; s[12]^=t; s[4]^=t; s[16]^=t;
    s[22] = ROTL64(s[22], 1);
    s[9] = ROTL64(s[9], 3);
    s[6] = ROTL64(s[6], 6);
    s[1] = ROTL64(s[1], 10);
    s[10] = ROTL64(s[10], 15);
    s[7] = ROTL64(s[7], 21);
    s[11] = ROTL64(s[11], 28);
    s[17] = ROTL64(s[17], 36);
    s[18] = ROTL64(s[18], 45);
    s[3] = ROTL64(s[3], 55);
    s[5] = ROTL64(s[5], 2);
    s[16] = ROTL64(s[16], 14);
    s[8] = ROTL64(s[8], 27);
    s[21] = ROTL64(s[21], 41);
    s[24] = ROTL64(s[24], 56);
    s[4] = ROTL64(s[4], 8);
    s[15] = ROTL64(s[15], 25);
    s[23] = ROTL64(s[23], 43);
    s[19] = ROTL64(s[19], 62);
    s[13] = ROTL64(s[13], 18);
    s[12] = ROTL64(s[12], 39);
    s[2] = ROTL64(s[2], 61);
    s[20] = ROTL64(s[20], 20);
    s[14] = ROTL64(s[14], 44);
    b[0] = s[0];
    b[1] = s[14];
    b[2] = s[23];
    b[3] = s[7];
    b[4] = s[16];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[14] =  t12 ^ (b[2] | b[3]);
        s[23] = b[2] ^ (b[4] &  t34);
        s[7] =  t34 ^ (b[4] | b[0]);
        s[16] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[11];
    b[1] = s[20];
    b[2] = s[9];
    b[3] = s[18];
    b[4] = s[2];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[11] = b[0] ^ (b[2] &  t12);
        s[20] =  t12 ^ (b[2] | b[3]);
        s[9] = b[2] ^ (b[4] &  t34);
        s[18] =  t34 ^ (b[4] | b[0]);
        s[2] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[22];
    b[1] = s[6];
    b[2] = s[15];
    b[3] = s[4];
    b[4] = s[13];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[22] = b[0] ^ (b[2] &  t12);
        s[6] =  t12 ^ (b[2] | b[3]);
        s[15] = b[2] ^ (b[4] &  t34);
        s[4] =  t34 ^ (b[4] | b[0]);
        s[13] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[8];
    b[1] = s[17];
    b[2] = s[1];
    b[3] = s[10];
    b[4] = s[24];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[8] = b[0] ^ (b[2] &  t12);
        s[17] =  t12 ^ (b[2] | b[3]);
        s[1] = b[2] ^ (b[4] &  t34);
        s[10] =  t34 ^ (b[4] | b[0]);
        s[24] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[19];
    b[1] = s[3];
    b[2] = s[12];
    b[3] = s[21];
    b[4] = s[5];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[19] = b[0] ^ (b[2] &  t12);
        s[3] =  t12 ^ (b[2] | b[3]);
        s[12] = b[2] ^ (b[4] &  t34);
        s[21] =  t34 ^ (b[4] | b[0]);
        s[5] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000080008000UL;
    b[0] = s[0] ^ s[11] ^ s[22] ^ s[8] ^ s[19];
    b[1] = s[14] ^ s[20] ^ s[6] ^ s[17] ^ s[3];
    b[2] = s[23] ^ s[9] ^ s[15] ^ s[1] ^ s[12];
    b[3] = s[7] ^ s[18] ^ s[4] ^ s[10] ^ s[21];
    b[4] = s[16] ^ s[2] ^ s[13] ^ s[24] ^ s[5];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[11]^=t; s[22]^=t; s[8]^=t; s[19]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[14]^=t; s[20]^=t; s[6]^=t; s[17]^=t; s[3]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[23]^=t; s[9]^=t; s[15]^=t; s[1]^=t; s[12]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[7]^=t; s[18]^=t; s[4]^=t; s[10]^=t; s[21]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[16]^=t; s[2]^=t; s[13]^=t; s[24]^=t; s[5]^=t;
    s[14] = ROTL64(s[14], 1);
    s[22] = ROTL64(s[22], 3);
    s[9] = ROTL64(s[9], 6);
    s[6] = ROTL64(s[6], 10);
    s[1] = ROTL64(s[1], 15);
    s[10] = ROTL64(s[10], 21);
    s[7] = ROTL64(s[7], 28);
    s[11] = ROTL64(s[11], 36);
    s[17] = ROTL64(s[17], 45);
    s[18] = ROTL64(s[18], 55);
    s[3] = ROTL64(s[3], 2);
    s[5] = ROTL64(s[5], 14);
    s[16] = ROTL64(s[16], 27);
    s[8] = ROTL64(s[8], 41);
    s[21] = ROTL64(s[21], 56);
    s[24] = ROTL64(s[24], 8);
    s[4] = ROTL64(s[4], 25);
    s[15] = ROTL64(s[15], 43);
    s[23] = ROTL64(s[23], 62);
    s[19] = ROTL64(s[19], 18);
    s[13] = ROTL64(s[13], 39);
    s[12] = ROTL64(s[12], 61);
    s[2] = ROTL64(s[2], 20);
    s[20] = ROTL64(s[20], 44);
    b[0] = s[0];
    b[1] = s[20];
    b[2] = s[15];
    b[3] = s[10];
    b[4] = s[5];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[20] =  t12 ^ (b[2] | b[3]);
        s[15] = b[2] ^ (b[4] &  t34);
        s[10] =  t34 ^ (b[4] | b[0]);
        s[5] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[7];
    b[1] = s[2];
    b[2] = s[22];
    b[3] = s[17];
    b[4] = s[12];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[7] = b[0] ^ (b[2] &  t12);
        s[2] =  t12 ^ (b[2] | b[3]);
        s[22] = b[2] ^ (b[4] &  t34);
        s[17] =  t34 ^ (b[4] | b[0]);
        s[12] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[14];
    b[1] = s[9];
    b[2] = s[4];
    b[3] = s[24];
    b[4] = s[19];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[14] = b[0] ^ (b[2] &  t12);
        s[9] =  t12 ^ (b[2] | b[3]);
        s[4] = b[2] ^ (b[4] &  t34);
        s[24] =  t34 ^ (b[4] | b[0]);
        s[19] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[16];
    b[1] = s[11];
    b[2] = s[6];
    b[3] = s[1];
    b[4] = s[21];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[16] = b[0] ^ (b[2] &  t12);
        s[11] =  t12 ^ (b[2] | b[3]);
        s[6] = b[2] ^ (b[4] &  t34);
        s[1] =  t34 ^ (b[4] | b[0]);
        s[21] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[23];
    b[1] = s[18];
    b[2] = s[13];
    b[3] = s[8];
    b[4] = s[3];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[23] = b[0] ^ (b[2] &  t12);
        s[18] =  t12 ^ (b[2] | b[3]);
        s[13] = b[2] ^ (b[4] &  t34);
        s[8] =  t34 ^ (b[4] | b[0]);
        s[3] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x808bUL;
    b[0] = s[0] ^ s[7] ^ s[14] ^ s[16] ^ s[23];
    b[1] = s[20] ^ s[2] ^ s[9] ^ s[11] ^ s[18];
    b[2] = s[15] ^ s[22] ^ s[4] ^ s[6] ^ s[13];
    b[3] = s[10] ^ s[17] ^ s[24] ^ s[1] ^ s[8];
    b[4] = s[5] ^ s[12] ^ s[19] ^ s[21] ^ s[3];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[7]^=t; s[14]^=t; s[16]^=t; s[23]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[20]^=t; s[2]^=t; s[9]^=t; s[11]^=t; s[18]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[15]^=t; s[22]^=t; s[4]^=t; s[6]^=t; s[13]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[10]^=t; s[17]^=t; s[24]^=t; s[1]^=t; s[8]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[5]^=t; s[12]^=t; s[19]^=t; s[21]^=t; s[3]^=t;
    s[20] = ROTL64(s[20], 1);
    s[14] = ROTL64(s[14], 3);
    s[22] = ROTL64(s[22], 6);
    s[9] = ROTL64(s[9], 10);
    s[6] = ROTL64(s[6], 15);
    s[1] = ROTL64(s[1], 21);
    s[10] = ROTL64(s[10], 28);
    s[7] = ROTL64(s[7], 36);
    s[11] = ROTL64(s[11], 45);
    s[17] = ROTL64(s[17], 55);
    s[18] = ROTL64(s[18], 2);
    s[3] = ROTL64(s[3], 14);
    s[5] = ROTL64(s[5], 27);
    s[16] = ROTL64(s[16], 41);
    s[8] = ROTL64(s[8], 56);
    s[21] = ROTL64(s[21], 8);
    s[24] = ROTL64(s[24], 25);
    s[4] = ROTL64(s[4], 43);
    s[15] = ROTL64(s[15], 62);
    s[23] = ROTL64(s[23], 18);
    s[19] = ROTL64(s[19], 39);
    s[13] = ROTL64(s[13], 61);
    s[12] = ROTL64(s[12], 20);
    s[2] = ROTL64(s[2], 44);
    b[0] = s[0];
    b[1] = s[2];
    b[2] = s[4];
    b[3] = s[1];
    b[4] = s[3];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[2] =  t12 ^ (b[2] | b[3]);
        s[4] = b[2] ^ (b[4] &  t34);
        s[1] =  t34 ^ (b[4] | b[0]);
        s[3] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[10];
    b[1] = s[12];
    b[2] = s[14];
    b[3] = s[11];
    b[4] = s[13];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[10] = b[0] ^ (b[2] &  t12);
        s[12] =  t12 ^ (b[2] | b[3]);
        s[14] = b[2] ^ (b[4] &  t34);
        s[11] =  t34 ^ (b[4] | b[0]);
        s[13] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[20];
    b[1] = s[22];
    b[2] = s[24];
    b[3] = s[21];
    b[4] = s[23];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[20] = b[0] ^ (b[2] &  t12);
        s[22] =  t12 ^ (b[2] | b[3]);
        s[24] = b[2] ^ (b[4] &  t34);
        s[21] =  t34 ^ (b[4] | b[0]);
        s[23] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[5];
    b[1] = s[7];
    b[2] = s[9];
    b[3] = s[6];
    b[4] = s[8];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[5] = b[0] ^ (b[2] &  t12);
        s[7] =  t12 ^ (b[2] | b[3]);
        s[9] = b[2] ^ (b[4] &  t34);
        s[6] =  t34 ^ (b[4] | b[0]);
        s[8] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[15];
    b[1] = s[17];
    b[2] = s[19];
    b[3] = s[16];
    b[4] = s[18];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[15] = b[0] ^ (b[2] &  t12);
        s[17] =  t12 ^ (b[2] | b[3]);
        s[19] = b[2] ^ (b[4] &  t34);
        s[16] =  t34 ^ (b[4] | b[0]);
        s[18] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x80000001UL;
    b[0] = s[0] ^ s[10] ^ s[20] ^ s[5] ^ s[15];
    b[1] = s[2] ^ s[12] ^ s[22] ^ s[7] ^ s[17];
    b[2] = s[4] ^ s[14] ^ s[24] ^ s[9] ^ s[19];
    b[3] = s[1] ^ s[11] ^ s[21] ^ s[6] ^ s[16];
    b[4] = s[3] ^ s[13] ^ s[23] ^ s[8] ^ s[18];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[10]^=t; s[20]^=t; s[5]^=t; s[15]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[2]^=t; s[12]^=t; s[22]^=t; s[7]^=t; s[17]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[4]^=t; s[14]^=t; s[24]^=t; s[9]^=t; s[19]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[1]^=t; s[11]^=t; s[21]^=t; s[6]^=t; s[16]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[3]^=t; s[13]^=t; s[23]^=t; s[8]^=t; s[18]^=t;
    s[2] = ROTL64(s[2], 1);
    s[20] = ROTL64(s[20], 3);
    s[14] = ROTL64(s[14], 6);
    s[22] = ROTL64(s[22], 10);
    s[9] = ROTL64(s[9], 15);
    s[6] = ROTL64(s[6], 21);
    s[1] = ROTL64(s[1], 28);
    s[10] = ROTL64(s[10], 36);
    s[7] = ROTL64(s[7], 45);
    s[11] = ROTL64(s[11], 55);
    s[17] = ROTL64(s[17], 2);
    s[18] = ROTL64(s[18], 14);
    s[3] = ROTL64(s[3], 27);
    s[5] = ROTL64(s[5], 41);
    s[16] = ROTL64(s[16], 56);
    s[8] = ROTL64(s[8], 8);
    s[21] = ROTL64(s[21], 25);
    s[24] = ROTL64(s[24], 43);
    s[4] = ROTL64(s[4], 62);
    s[15] = ROTL64(s[15], 18);
    s[23] = ROTL64(s[23], 39);
    s[19] = ROTL64(s[19], 61);
    s[13] = ROTL64(s[13], 20);
    s[12] = ROTL64(s[12], 44);
    b[0] = s[0];
    b[1] = s[12];
    b[2] = s[24];
    b[3] = s[6];
    b[4] = s[18];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[12] =  t12 ^ (b[2] | b[3]);
        s[24] = b[2] ^ (b[4] &  t34);
        s[6] =  t34 ^ (b[4] | b[0]);
        s[18] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[1];
    b[1] = s[13];
    b[2] = s[20];
    b[3] = s[7];
    b[4] = s[19];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[1] = b[0] ^ (b[2] &  t12);
        s[13] =  t12 ^ (b[2] | b[3]);
        s[20] = b[2] ^ (b[4] &  t34);
        s[7] =  t34 ^ (b[4] | b[0]);
        s[19] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[2];
    b[1] = s[14];
    b[2] = s[21];
    b[3] = s[8];
    b[4] = s[15];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[2] = b[0] ^ (b[2] &  t12);
        s[14] =  t12 ^ (b[2] | b[3]);
        s[21] = b[2] ^ (b[4] &  t34);
        s[8] =  t34 ^ (b[4] | b[0]);
        s[15] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[3];
    b[1] = s[10];
    b[2] = s[22];
    b[3] = s[9];
    b[4] = s[16];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[3] = b[0] ^ (b[2] &  t12);
        s[10] =  t12 ^ (b[2] | b[3]);
        s[22] = b[2] ^ (b[4] &  t34);
        s[9] =  t34 ^ (b[4] | b[0]);
        s[16] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[4];
    b[1] = s[11];
    b[2] = s[23];
    b[3] = s[5];
    b[4] = s[17];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[4] = b[0] ^ (b[2] &  t12);
        s[11] =  t12 ^ (b[2] | b[3]);
        s[23] = b[2] ^ (b[4] &  t34);
        s[5] =  t34 ^ (b[4] | b[0]);
        s[17] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000080008081UL;
    b[0] = s[0] ^ s[1] ^ s[2] ^ s[3] ^ s[4];
    b[1] = s[12] ^ s[13] ^ s[14] ^ s[10] ^ s[11];
    b[2] = s[24] ^ s[20] ^ s[21] ^ s[22] ^ s[23];
    b[3] = s[6] ^ s[7] ^ s[8] ^ s[9] ^ s[5];
    b[4] = s[18] ^ s[19] ^ s[15] ^ s[16] ^ s[17];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[1]^=t; s[2]^=t; s[3]^=t; s[4]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[12]^=t; s[13]^=t; s[14]^=t; s[10]^=t; s[11]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[24]^=t; s[20]^=t; s[21]^=t; s[22]^=t; s[23]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[6]^=t; s[7]^=t; s[8]^=t; s[9]^=t; s[5]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[18]^=t; s[19]^=t; s[15]^=t; s[16]^=t; s[17]^=t;
    s[12] = ROTL64(s[12], 1);
    s[2] = ROTL64(s[2], 3);
    s[20] = ROTL64(s[20], 6);
    s[14] = ROTL64(s[14], 10);
    s[22] = ROTL64(s[22], 15);
    s[9] = ROTL64(s[9], 21);
    s[6] = ROTL64(s[6], 28);
    s[1] = ROTL64(s[1], 36);
    s[10] = ROTL64(s[10], 45);
    s[7] = ROTL64(s[7], 55);
    s[11] = ROTL64(s[11], 2);
    s[17] = ROTL64(s[17], 14);
    s[18] = ROTL64(s[18], 27);
    s[3] = ROTL64(s[3], 41);
    s[5] = ROTL64(s[5], 56);
    s[16] = ROTL64(s[16], 8);
    s[8] = ROTL64(s[8], 25);
    s[21] = ROTL64(s[21], 43);
    s[24] = ROTL64(s[24], 62);
    s[4] = ROTL64(s[4], 18);
    s[15] = ROTL64(s[15], 39);
    s[23] = ROTL64(s[23], 61);
    s[19] = ROTL64(s[19], 20);
    s[13] = ROTL64(s[13], 44);
    b[0] = s[0];
    b[1] = s[13];
    b[2] = s[21];
    b[3] = s[9];
    b[4] = s[17];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[13] =  t12 ^ (b[2] | b[3]);
        s[21] = b[2] ^ (b[4] &  t34);
        s[9] =  t34 ^ (b[4] | b[0]);
        s[17] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[6];
    b[1] = s[19];
    b[2] = s[2];
    b[3] = s[10];
    b[4] = s[23];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[6] = b[0] ^ (b[2] &  t12);
        s[19] =  t12 ^ (b[2] | b[3]);
        s[2] = b[2] ^ (b[4] &  t34);
        s[10] =  t34 ^ (b[4] | b[0]);
        s[23] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[12];
    b[1] = s[20];
    b[2] = s[8];
    b[3] = s[16];
    b[4] = s[4];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[12] = b[0] ^ (b[2] &  t12);
        s[20] =  t12 ^ (b[2] | b[3]);
        s[8] = b[2] ^ (b[4] &  t34);
        s[16] =  t34 ^ (b[4] | b[0]);
        s[4] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[18];
    b[1] = s[1];
    b[2] = s[14];
    b[3] = s[22];
    b[4] = s[5];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[18] = b[0] ^ (b[2] &  t12);
        s[1] =  t12 ^ (b[2] | b[3]);
        s[14] = b[2] ^ (b[4] &  t34);
        s[22] =  t34 ^ (b[4] | b[0]);
        s[5] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[24];
    b[1] = s[7];
    b[2] = s[15];
    b[3] = s[3];
    b[4] = s[11];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[24] = b[0] ^ (b[2] &  t12);
        s[7] =  t12 ^ (b[2] | b[3]);
        s[15] = b[2] ^ (b[4] &  t34);
        s[3] =  t34 ^ (b[4] | b[0]);
        s[11] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000000008009UL;
    b[0] = s[0] ^ s[6] ^ s[12] ^ s[18] ^ s[24];
    b[1] = s[13] ^ s[19] ^ s[20] ^ s[1] ^ s[7];
    b[2] = s[21] ^ s[2] ^ s[8] ^ s[14] ^ s[15];
    b[3] = s[9] ^ s[10] ^ s[16] ^ s[22] ^ s[3];
    b[4] = s[17] ^ s[23] ^ s[4] ^ s[5] ^ s[11];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[6]^=t; s[12]^=t; s[18]^=t; s[24]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[13]^=t; s[19]^=t; s[20]^=t; s[1]^=t; s[7]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[21]^=t; s[2]^=t; s[8]^=t; s[14]^=t; s[15]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[9]^=t; s[10]^=t; s[16]^=t; s[22]^=t; s[3]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[17]^=t; s[23]^=t; s[4]^=t; s[5]^=t; s[11]^=t;
    s[13] = ROTL64(s[13], 1);
    s[12] = ROTL64(s[12], 3);
    s[2] = ROTL64(s[2], 6);
    s[20] = ROTL64(s[20], 10);
    s[14] = ROTL64(s[14], 15);
    s[22] = ROTL64(s[22], 21);
    s[9] = ROTL64(s[9], 28);
    s[6] = ROTL64(s[6], 36);
    s[1] = ROTL64(s[1], 45);
    s[10] = ROTL64(s[10], 55);
    s[7] = ROTL64(s[7], 2);
    s[11] = ROTL64(s[11], 14);
    s[17] = ROTL64(s[17], 27);
    s[18] = ROTL64(s[18], 41);
    s[3] = ROTL64(s[3], 56);
    s[5] = ROTL64(s[5], 8);
    s[16] = ROTL64(s[16], 25);
    s[8] = ROTL64(s[8], 43);
    s[21] = ROTL64(s[21], 62);
    s[24] = ROTL64(s[24], 18);
    s[4] = ROTL64(s[4], 39);
    s[15] = ROTL64(s[15], 61);
    s[23] = ROTL64(s[23], 20);
    s[19] = ROTL64(s[19], 44);
    b[0] = s[0];
    b[1] = s[19];
    b[2] = s[8];
    b[3] = s[22];
    b[4] = s[11];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[19] =  t12 ^ (b[2] | b[3]);
        s[8] = b[2] ^ (b[4] &  t34);
        s[22] =  t34 ^ (b[4] | b[0]);
        s[11] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[9];
    b[1] = s[23];
    b[2] = s[12];
    b[3] = s[1];
    b[4] = s[15];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[9] = b[0] ^ (b[2] &  t12);
        s[23] =  t12 ^ (b[2] | b[3]);
        s[12] = b[2] ^ (b[4] &  t34);
        s[1] =  t34 ^ (b[4] | b[0]);
        s[15] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[13];
    b[1] = s[2];
    b[2] = s[16];
    b[3] = s[5];
    b[4] = s[24];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[13] = b[0] ^ (b[2] &  t12);
        s[2] =  t12 ^ (b[2] | b[3]);
        s[16] = b[2] ^ (b[4] &  t34);
        s[5] =  t34 ^ (b[4] | b[0]);
        s[24] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[17];
    b[1] = s[6];
    b[2] = s[20];
    b[3] = s[14];
    b[4] = s[3];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[17] = b[0] ^ (b[2] &  t12);
        s[6] =  t12 ^ (b[2] | b[3]);
        s[20] = b[2] ^ (b[4] &  t34);
        s[14] =  t34 ^ (b[4] | b[0]);
        s[3] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[21];
    b[1] = s[10];
    b[2] = s[4];
    b[3] = s[18];
    b[4] = s[7];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[21] = b[0] ^ (b[2] &  t12);
        s[10] =  t12 ^ (b[2] | b[3]);
        s[4] = b[2] ^ (b[4] &  t34);
        s[18] =  t34 ^ (b[4] | b[0]);
        s[7] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8aUL;
    b[0] = s[0] ^ s[9] ^ s[13] ^ s[17] ^ s[21];
    b[1] = s[19] ^ s[23] ^ s[2] ^ s[6] ^ s[10];
    b[2] = s[8] ^ s[12] ^ s[16] ^ s[20] ^ s[4];
    b[3] = s[22] ^ s[1] ^ s[5] ^ s[14] ^ s[18];
    b[4] = s[11] ^ s[15] ^ s[24] ^ s[3] ^ s[7];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[9]^=t; s[13]^=t; s[17]^=t; s[21]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[19]^=t; s[23]^=t; s[2]^=t; s[6]^=t; s[10]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[8]^=t; s[12]^=t; s[16]^=t; s[20]^=t; s[4]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[22]^=t; s[1]^=t; s[5]^=t; s[14]^=t; s[18]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[11]^=t; s[15]^=t; s[24]^=t; s[3]^=t; s[7]^=t;
    s[19] = ROTL64(s[19], 1);
    s[13] = ROTL64(s[13], 3);
    s[12] = ROTL64(s[12], 6);
    s[2] = ROTL64(s[2], 10);
    s[20] = ROTL64(s[20], 15);
    s[14] = ROTL64(s[14], 21);
    s[22] = ROTL64(s[22], 28);
    s[9] = ROTL64(s[9], 36);
    s[6] = ROTL64(s[6], 45);
    s[1] = ROTL64(s[1], 55);
    s[10] = ROTL64(s[10], 2);
    s[7] = ROTL64(s[7], 14);
    s[11] = ROTL64(s[11], 27);
    s[17] = ROTL64(s[17], 41);
    s[18] = ROTL64(s[18], 56);
    s[3] = ROTL64(s[3], 8);
    s[5] = ROTL64(s[5], 25);
    s[16] = ROTL64(s[16], 43);
    s[8] = ROTL64(s[8], 62);
    s[21] = ROTL64(s[21], 18);
    s[24] = ROTL64(s[24], 39);
    s[4] = ROTL64(s[4], 61);
    s[15] = ROTL64(s[15], 20);
    s[23] = ROTL64(s[23], 44);
    b[0] = s[0];
    b[1] = s[23];
    b[2] = s[16];
    b[3] = s[14];
    b[4] = s[7];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[23] =  t12 ^ (b[2] | b[3]);
        s[16] = b[2] ^ (b[4] &  t34);
        s[14] =  t34 ^ (b[4] | b[0]);
        s[7] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[22];
    b[1] = s[15];
    b[2] = s[13];
    b[3] = s[6];
    b[4] = s[4];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[22] = b[0] ^ (b[2] &  t12);
        s[15] =  t12 ^ (b[2] | b[3]);
        s[13] = b[2] ^ (b[4] &  t34);
        s[6] =  t34 ^ (b[4] | b[0]);
        s[4] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[19];
    b[1] = s[12];
    b[2] = s[5];
    b[3] = s[3];
    b[4] = s[21];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[19] = b[0] ^ (b[2] &  t12);
        s[12] =  t12 ^ (b[2] | b[3]);
        s[5] = b[2] ^ (b[4] &  t34);
        s[3] =  t34 ^ (b[4] | b[0]);
        s[21] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[11];
    b[1] = s[9];
    b[2] = s[2];
    b[3] = s[20];
    b[4] = s[18];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[11] = b[0] ^ (b[2] &  t12);
        s[9] =  t12 ^ (b[2] | b[3]);
        s[2] = b[2] ^ (b[4] &  t34);
        s[20] =  t34 ^ (b[4] | b[0]);
        s[18] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[8];
    b[1] = s[1];
    b[2] = s[24];
    b[3] = s[17];
    b[4] = s[10];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[8] = b[0] ^ (b[2] &  t12);
        s[1] =  t12 ^ (b[2] | b[3]);
        s[24] = b[2] ^ (b[4] &  t34);
        s[17] =  t34 ^ (b[4] | b[0]);
        s[10] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x88UL;
    b[0] = s[0] ^ s[22] ^ s[19] ^ s[11] ^ s[8];
    b[1] = s[23] ^ s[15] ^ s[12] ^ s[9] ^ s[1];
    b[2] = s[16] ^ s[13] ^ s[5] ^ s[2] ^ s[24];
    b[3] = s[14] ^ s[6] ^ s[3] ^ s[20] ^ s[17];
    b[4] = s[7] ^ s[4] ^ s[21] ^ s[18] ^ s[10];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[22]^=t; s[19]^=t; s[11]^=t; s[8]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[23]^=t; s[15]^=t; s[12]^=t; s[9]^=t; s[1]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[16]^=t; s[13]^=t; s[5]^=t; s[2]^=t; s[24]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[14]^=t; s[6]^=t; s[3]^=t; s[20]^=t; s[17]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[7]^=t; s[4]^=t; s[21]^=t; s[18]^=t; s[10]^=t;
    s[23] = ROTL64(s[23], 1);
    s[19] = ROTL64(s[19], 3);
    s[13] = ROTL64(s[13], 6);
    s[12] = ROTL64(s[12], 10);
    s[2] = ROTL64(s[2], 15);
    s[20] = ROTL64(s[20], 21);
    s[14] = ROTL64(s[14], 28);
    s[22] = ROTL64(s[22], 36);
    s[9] = ROTL64(s[9], 45);
    s[6] = ROTL64(s[6], 55);
    s[1] = ROTL64(s[1], 2);
    s[10] = ROTL64(s[10], 14);
    s[7] = ROTL64(s[7], 27);
    s[11] = ROTL64(s[11], 41);
    s[17] = ROTL64(s[17], 56);
    s[18] = ROTL64(s[18], 8);
    s[3] = ROTL64(s[3], 25);
    s[5] = ROTL64(s[5], 43);
    s[16] = ROTL64(s[16], 62);
    s[8] = ROTL64(s[8], 18);
    s[21] = ROTL64(s[21], 39);
    s[24] = ROTL64(s[24], 61);
    s[4] = ROTL64(s[4], 20);
    s[15] = ROTL64(s[15], 44);
    b[0] = s[0];
    b[1] = s[15];
    b[2] = s[5];
    b[3] = s[20];
    b[4] = s[10];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[15] =  t12 ^ (b[2] | b[3]);
        s[5] = b[2] ^ (b[4] &  t34);
        s[20] =  t34 ^ (b[4] | b[0]);
        s[10] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[14];
    b[1] = s[4];
    b[2] = s[19];
    b[3] = s[9];
    b[4] = s[24];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[14] = b[0] ^ (b[2] &  t12);
        s[4] =  t12 ^ (b[2] | b[3]);
        s[19] = b[2] ^ (b[4] &  t34);
        s[9] =  t34 ^ (b[4] | b[0]);
        s[24] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[23];
    b[1] = s[13];
    b[2] = s[3];
    b[3] = s[18];
    b[4] = s[8];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[23] = b[0] ^ (b[2] &  t12);
        s[13] =  t12 ^ (b[2] | b[3]);
        s[3] = b[2] ^ (b[4] &  t34);
        s[18] =  t34 ^ (b[4] | b[0]);
        s[8] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[7];
    b[1] = s[22];
    b[2] = s[12];
    b[3] = s[2];
    b[4] = s[17];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[7] = b[0] ^ (b[2] &  t12);
        s[22] =  t12 ^ (b[2] | b[3]);
        s[12] = b[2] ^ (b[4] &  t34);
        s[2] =  t34 ^ (b[4] | b[0]);
        s[17] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[16];
    b[1] = s[6];
    b[2] = s[21];
    b[3] = s[11];
    b[4] = s[1];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[16] = b[0] ^ (b[2] &  t12);
        s[6] =  t12 ^ (b[2] | b[3]);
        s[21] = b[2] ^ (b[4] &  t34);
        s[11] =  t34 ^ (b[4] | b[0]);
        s[1] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x80008009UL;
    b[0] = s[0] ^ s[14] ^ s[23] ^ s[7] ^ s[16];
    b[1] = s[15] ^ s[4] ^ s[13] ^ s[22] ^ s[6];
    b[2] = s[5] ^ s[19] ^ s[3] ^ s[12] ^ s[21];
    b[3] = s[20] ^ s[9] ^ s[18] ^ s[2] ^ s[11];
    b[4] = s[10] ^ s[24] ^ s[8] ^ s[17] ^ s[1];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[14]^=t; s[23]^=t; s[7]^=t; s[16]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[15]^=t; s[4]^=t; s[13]^=t; s[22]^=t; s[6]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[5]^=t; s[19]^=t; s[3]^=t; s[12]^=t; s[21]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[20]^=t; s[9]^=t; s[18]^=t; s[2]^=t; s[11]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[10]^=t; s[24]^=t; s[8]^=t; s[17]^=t; s[1]^=t;
    s[15] = ROTL64(s[15], 1);
    s[23] = ROTL64(s[23], 3);
    s[19] = ROTL64(s[19], 6);
    s[13] = ROTL64(s[13], 10);
    s[12] = ROTL64(s[12], 15);
    s[2] = ROTL64(s[2], 21);
    s[20] = ROTL64(s[20], 28);
    s[14] = ROTL64(s[14], 36);
    s[22] = ROTL64(s[22], 45);
    s[9] = ROTL64(s[9], 55);
    s[6] = ROTL64(s[6], 2);
    s[1] = ROTL64(s[1], 14);
    s[10] = ROTL64(s[10], 27);
    s[7] = ROTL64(s[7], 41);
    s[11] = ROTL64(s[11], 56);
    s[17] = ROTL64(s[17], 8);
    s[18] = ROTL64(s[18], 25);
    s[3] = ROTL64(s[3], 43);
    s[5] = ROTL64(s[5], 62);
    s[16] = ROTL64(s[16], 18);
    s[8] = ROTL64(s[8], 39);
    s[21] = ROTL64(s[21], 61);
    s[24] = ROTL64(s[24], 20);
    s[4] = ROTL64(s[4], 44);
    b[0] = s[0];
    b[1] = s[4];
    b[2] = s[3];
    b[3] = s[2];
    b[4] = s[1];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[4] =  t12 ^ (b[2] | b[3]);
        s[3] = b[2] ^ (b[4] &  t34);
        s[2] =  t34 ^ (b[4] | b[0]);
        s[1] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[20];
    b[1] = s[24];
    b[2] = s[23];
    b[3] = s[22];
    b[4] = s[21];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[20] = b[0] ^ (b[2] &  t12);
        s[24] =  t12 ^ (b[2] | b[3]);
        s[23] = b[2] ^ (b[4] &  t34);
        s[22] =  t34 ^ (b[4] | b[0]);
        s[21] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[15];
    b[1] = s[19];
    b[2] = s[18];
    b[3] = s[17];
    b[4] = s[16];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[15] = b[0] ^ (b[2] &  t12);
        s[19] =  t12 ^ (b[2] | b[3]);
        s[18] = b[2] ^ (b[4] &  t34);
        s[17] =  t34 ^ (b[4] | b[0]);
        s[16] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[10];
    b[1] = s[14];
    b[2] = s[13];
    b[3] = s[12];
    b[4] = s[11];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[10] = b[0] ^ (b[2] &  t12);
        s[14] =  t12 ^ (b[2] | b[3]);
        s[13] = b[2] ^ (b[4] &  t34);
        s[12] =  t34 ^ (b[4] | b[0]);
        s[11] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[5];
    b[1] = s[9];
    b[2] = s[8];
    b[3] = s[7];
    b[4] = s[6];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[5] = b[0] ^ (b[2] &  t12);
        s[9] =  t12 ^ (b[2] | b[3]);
        s[8] = b[2] ^ (b[4] &  t34);
        s[7] =  t34 ^ (b[4] | b[0]);
        s[6] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000aUL;
    b[0] = s[0] ^ s[20] ^ s[15] ^ s[10] ^ s[5];
    b[1] = s[4] ^ s[24] ^ s[19] ^ s[14] ^ s[9];
    b[2] = s[3] ^ s[23] ^ s[18] ^ s[13] ^ s[8];
    b[3] = s[2] ^ s[22] ^ s[17] ^ s[12] ^ s[7];
    b[4] = s[1] ^ s[21] ^ s[16] ^ s[11] ^ s[6];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[20]^=t; s[15]^=t; s[10]^=t; s[5]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[4]^=t; s[24]^=t; s[19]^=t; s[14]^=t; s[9]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[3]^=t; s[23]^=t; s[18]^=t; s[13]^=t; s[8]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[2]^=t; s[22]^=t; s[17]^=t; s[12]^=t; s[7]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[1]^=t; s[21]^=t; s[16]^=t; s[11]^=t; s[6]^=t;
    s[4] = ROTL64(s[4], 1);
    s[15] = ROTL64(s[15], 3);
    s[23] = ROTL64(s[23], 6);
    s[19] = ROTL64(s[19], 10);
    s[13] = ROTL64(s[13], 15);
    s[12] = ROTL64(s[12], 21);
    s[2] = ROTL64(s[2], 28);
    s[20] = ROTL64(s[20], 36);
    s[14] = ROTL64(s[14], 45);
    s[22] = ROTL64(s[22], 55);
    s[9] = ROTL64(s[9], 2);
    s[6] = ROTL64(s[6], 14);
    s[1] = ROTL64(s[1], 27);
    s[10] = ROTL64(s[10], 41);
    s[7] = ROTL64(s[7], 56);
    s[11] = ROTL64(s[11], 8);
    s[17] = ROTL64(s[17], 25);
    s[18] = ROTL64(s[18], 43);
    s[3] = ROTL64(s[3], 62);
    s[5] = ROTL64(s[5], 18);
    s[16] = ROTL64(s[16], 39);
    s[8] = ROTL64(s[8], 61);
    s[21] = ROTL64(s[21], 20);
    s[24] = ROTL64(s[24], 44);
    b[0] = s[0];
    b[1] = s[24];
    b[2] = s[18];
    b[3] = s[12];
    b[4] = s[6];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[24] =  t12 ^ (b[2] | b[3]);
        s[18] = b[2] ^ (b[4] &  t34);
        s[12] =  t34 ^ (b[4] | b[0]);
        s[6] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[2];
    b[1] = s[21];
    b[2] = s[15];
    b[3] = s[14];
    b[4] = s[8];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[2] = b[0] ^ (b[2] &  t12);
        s[21] =  t12 ^ (b[2] | b[3]);
        s[15] = b[2] ^ (b[4] &  t34);
        s[14] =  t34 ^ (b[4] | b[0]);
        s[8] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[4];
    b[1] = s[23];
    b[2] = s[17];
    b[3] = s[11];
    b[4] = s[5];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[4] = b[0] ^ (b[2] &  t12);
        s[23] =  t12 ^ (b[2] | b[3]);
        s[17] = b[2] ^ (b[4] &  t34);
        s[11] =  t34 ^ (b[4] | b[0]);
        s[5] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[1];
    b[1] = s[20];
    b[2] = s[19];
    b[3] = s[13];
    b[4] = s[7];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[1] = b[0] ^ (b[2] &  t12);
        s[20] =  t12 ^ (b[2] | b[3]);
        s[19] = b[2] ^ (b[4] &  t34);
        s[13] =  t34 ^ (b[4] | b[0]);
        s[7] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[3];
    b[1] = s[22];
    b[2] = s[16];
    b[3] = s[10];
    b[4] = s[9];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[3] = b[0] ^ (b[2] &  t12);
        s[22] =  t12 ^ (b[2] | b[3]);
        s[16] = b[2] ^ (b[4] &  t34);
        s[10] =  t34 ^ (b[4] | b[0]);
        s[9] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000808bUL;
    b[0] = s[0] ^ s[2] ^ s[4] ^ s[1] ^ s[3];
    b[1] = s[24] ^ s[21] ^ s[23] ^ s[20] ^ s[22];
    b[2] = s[18] ^ s[15] ^ s[17] ^ s[19] ^ s[16];
    b[3] = s[12] ^ s[14] ^ s[11] ^ s[13] ^ s[10];
    b[4] = s[6] ^ s[8] ^ s[5] ^ s[7] ^ s[9];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[2]^=t; s[4]^=t; s[1]^=t; s[3]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[24]^=t; s[21]^=t; s[23]^=t; s[20]^=t; s[22]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[18]^=t; s[15]^=t; s[17]^=t; s[19]^=t; s[16]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[12]^=t; s[14]^=t; s[11]^=t; s[13]^=t; s[10]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[6]^=t; s[8]^=t; s[5]^=t; s[7]^=t; s[9]^=t;
    s[24] = ROTL64(s[24], 1);
    s[4] = ROTL64(s[4], 3);
    s[15] = ROTL64(s[15], 6);
    s[23] = ROTL64(s[23], 10);
    s[19] = ROTL64(s[19], 15);
    s[13] = ROTL64(s[13], 21);
    s[12] = ROTL64(s[12], 28);
    s[2] = ROTL64(s[2], 36);
    s[20] = ROTL64(s[20], 45);
    s[14] = ROTL64(s[14], 55);
    s[22] = ROTL64(s[22], 2);
    s[9] = ROTL64(s[9], 14);
    s[6] = ROTL64(s[6], 27);
    s[1] = ROTL64(s[1], 41);
    s[10] = ROTL64(s[10], 56);
    s[7] = ROTL64(s[7], 8);
    s[11] = ROTL64(s[11], 25);
    s[17] = ROTL64(s[17], 43);
    s[18] = ROTL64(s[18], 62);
    s[3] = ROTL64(s[3], 18);
    s[5] = ROTL64(s[5], 39);
    s[16] = ROTL64(s[16], 61);
    s[8] = ROTL64(s[8], 20);
    s[21] = ROTL64(s[21], 44);
    b[0] = s[0];
    b[1] = s[21];
    b[2] = s[17];
    b[3] = s[13];
    b[4] = s[9];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[21] =  t12 ^ (b[2] | b[3]);
        s[17] = b[2] ^ (b[4] &  t34);
        s[13] =  t34 ^ (b[4] | b[0]);
        s[9] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[12];
    b[1] = s[8];
    b[2] = s[4];
    b[3] = s[20];
    b[4] = s[16];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[12] = b[0] ^ (b[2] &  t12);
        s[8] =  t12 ^ (b[2] | b[3]);
        s[4] = b[2] ^ (b[4] &  t34);
        s[20] =  t34 ^ (b[4] | b[0]);
        s[16] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[24];
    b[1] = s[15];
    b[2] = s[11];
    b[3] = s[7];
    b[4] = s[3];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[24] = b[0] ^ (b[2] &  t12);
        s[15] =  t12 ^ (b[2] | b[3]);
        s[11] = b[2] ^ (b[4] &  t34);
        s[7] =  t34 ^ (b[4] | b[0]);
        s[3] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[6];
    b[1] = s[2];
    b[2] = s[23];
    b[3] = s[19];
    b[4] = s[10];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[6] = b[0] ^ (b[2] &  t12);
        s[2] =  t12 ^ (b[2] | b[3]);
        s[23] = b[2] ^ (b[4] &  t34);
        s[19] =  t34 ^ (b[4] | b[0]);
        s[10] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[18];
    b[1] = s[14];
    b[2] = s[5];
    b[3] = s[1];
    b[4] = s[22];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[18] = b[0] ^ (b[2] &  t12);
        s[14] =  t12 ^ (b[2] | b[3]);
        s[5] = b[2] ^ (b[4] &  t34);
        s[1] =  t34 ^ (b[4] | b[0]);
        s[22] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x800000000000008bUL;
    b[0] = s[0] ^ s[12] ^ s[24] ^ s[6] ^ s[18];
    b[1] = s[21] ^ s[8] ^ s[15] ^ s[2] ^ s[14];
    b[2] = s[17] ^ s[4] ^ s[11] ^ s[23] ^ s[5];
    b[3] = s[13] ^ s[20] ^ s[7] ^ s[19] ^ s[1];
    b[4] = s[9] ^ s[16] ^ s[3] ^ s[10] ^ s[22];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[12]^=t; s[24]^=t; s[6]^=t; s[18]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[21]^=t; s[8]^=t; s[15]^=t; s[2]^=t; s[14]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[17]^=t; s[4]^=t; s[11]^=t; s[23]^=t; s[5]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[13]^=t; s[20]^=t; s[7]^=t; s[19]^=t; s[1]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[9]^=t; s[16]^=t; s[3]^=t; s[10]^=t; s[22]^=t;
    s[21] = ROTL64(s[21], 1);
    s[24] = ROTL64(s[24], 3);
    s[4] = ROTL64(s[4], 6);
    s[15] = ROTL64(s[15], 10);
    s[23] = ROTL64(s[23], 15);
    s[19] = ROTL64(s[19], 21);
    s[13] = ROTL64(s[13], 28);
    s[12] = ROTL64(s[12], 36);
    s[2] = ROTL64(s[2], 45);
    s[20] = ROTL64(s[20], 55);
    s[14] = ROTL64(s[14], 2);
    s[22] = ROTL64(s[22], 14);
    s[9] = ROTL64(s[9], 27);
    s[6] = ROTL64(s[6], 41);
    s[1] = ROTL64(s[1], 56);
    s[10] = ROTL64(s[10], 8);
    s[7] = ROTL64(s[7], 25);
    s[11] = ROTL64(s[11], 43);
    s[17] = ROTL64(s[17], 62);
    s[18] = ROTL64(s[18], 18);
    s[3] = ROTL64(s[3], 39);
    s[5] = ROTL64(s[5], 61);
    s[16] = ROTL64(s[16], 20);
    s[8] = ROTL64(s[8], 44);
    b[0] = s[0];
    b[1] = s[8];
    b[2] = s[11];
    b[3] = s[19];
    b[4] = s[22];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[8] =  t12 ^ (b[2] | b[3]);
        s[11] = b[2] ^ (b[4] &  t34);
        s[19] =  t34 ^ (b[4] | b[0]);
        s[22] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[13];
    b[1] = s[16];
    b[2] = s[24];
    b[3] = s[2];
    b[4] = s[5];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[13] = b[0] ^ (b[2] &  t12);
        s[16] =  t12 ^ (b[2] | b[3]);
        s[24] = b[2] ^ (b[4] &  t34);
        s[2] =  t34 ^ (b[4] | b[0]);
        s[5] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[21];
    b[1] = s[4];
    b[2] = s[7];
    b[3] = s[10];
    b[4] = s[18];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[21] = b[0] ^ (b[2] &  t12);
        s[4] =  t12 ^ (b[2] | b[3]);
        s[7] = b[2] ^ (b[4] &  t34);
        s[10] =  t34 ^ (b[4] | b[0]);
        s[18] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[9];
    b[1] = s[12];
    b[2] = s[15];
    b[3] = s[23];
    b[4] = s[1];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[9] = b[0] ^ (b[2] &  t12);
        s[12] =  t12 ^ (b[2] | b[3]);
        s[15] = b[2] ^ (b[4] &  t34);
        s[23] =  t34 ^ (b[4] | b[0]);
        s[1] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[17];
    b[1] = s[20];
    b[2] = s[3];
    b[3] = s[6];
    b[4] = s[14];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[17] = b[0] ^ (b[2] &  t12);
        s[20] =  t12 ^ (b[2] | b[3]);
        s[3] = b[2] ^ (b[4] &  t34);
        s[6] =  t34 ^ (b[4] | b[0]);
        s[14] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000000008089UL;
    b[0] = s[0] ^ s[13] ^ s[21] ^ s[9] ^ s[17];
    b[1] = s[8] ^ s[16] ^ s[4] ^ s[12] ^ s[20];
    b[2] = s[11] ^ s[24] ^ s[7] ^ s[15] ^ s[3];
    b[3] = s[19] ^ s[2] ^ s[10] ^ s[23] ^ s[6];
    b[4] = s[22] ^ s[5] ^ s[18] ^ s[1] ^ s[14];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[13]^=t; s[21]^=t; s[9]^=t; s[17]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[8]^=t; s[16]^=t; s[4]^=t; s[12]^=t; s[20]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[11]^=t; s[24]^=t; s[7]^=t; s[15]^=t; s[3]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[19]^=t; s[2]^=t; s[10]^=t; s[23]^=t; s[6]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[22]^=t; s[5]^=t; s[18]^=t; s[1]^=t; s[14]^=t;
    s[8] = ROTL64(s[8], 1);
    s[21] = ROTL64(s[21], 3);
    s[24] = ROTL64(s[24], 6);
    s[4] = ROTL64(s[4], 10);
    s[15] = ROTL64(s[15], 15);
    s[23] = ROTL64(s[23], 21);
    s[19] = ROTL64(s[19], 28);
    s[13] = ROTL64(s[13], 36);
    s[12] = ROTL64(s[12], 45);
    s[2] = ROTL64(s[2], 55);
    s[20] = ROTL64(s[20], 2);
    s[14] = ROTL64(s[14], 14);
    s[22] = ROTL64(s[22], 27);
    s[9] = ROTL64(s[9], 41);
    s[6] = ROTL64(s[6], 56);
    s[1] = ROTL64(s[1], 8);
    s[10] = ROTL64(s[10], 25);
    s[7] = ROTL64(s[7], 43);
    s[11] = ROTL64(s[11], 62);
    s[17] = ROTL64(s[17], 18);
    s[18] = ROTL64(s[18], 39);
    s[3] = ROTL64(s[3], 61);
    s[5] = ROTL64(s[5], 20);
    s[16] = ROTL64(s[16], 44);
    b[0] = s[0];
    b[1] = s[16];
    b[2] = s[7];
    b[3] = s[23];
    b[4] = s[14];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[16] =  t12 ^ (b[2] | b[3]);
        s[7] = b[2] ^ (b[4] &  t34);
        s[23] =  t34 ^ (b[4] | b[0]);
        s[14] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[19];
    b[1] = s[5];
    b[2] = s[21];
    b[3] = s[12];
    b[4] = s[3];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[19] = b[0] ^ (b[2] &  t12);
        s[5] =  t12 ^ (b[2] | b[3]);
        s[21] = b[2] ^ (b[4] &  t34);
        s[12] =  t34 ^ (b[4] | b[0]);
        s[3] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[8];
    b[1] = s[24];
    b[2] = s[10];
    b[3] = s[1];
    b[4] = s[17];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[8] = b[0] ^ (b[2] &  t12);
        s[24] =  t12 ^ (b[2] | b[3]);
        s[10] = b[2] ^ (b[4] &  t34);
        s[1] =  t34 ^ (b[4] | b[0]);
        s[17] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[22];
    b[1] = s[13];
    b[2] = s[4];
    b[3] = s[15];
    b[4] = s[6];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[22] = b[0] ^ (b[2] &  t12);
        s[13] =  t12 ^ (b[2] | b[3]);
        s[4] = b[2] ^ (b[4] &  t34);
        s[15] =  t34 ^ (b[4] | b[0]);
        s[6] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[11];
    b[1] = s[2];
    b[2] = s[18];
    b[3] = s[9];
    b[4] = s[20];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[11] = b[0] ^ (b[2] &  t12);
        s[2] =  t12 ^ (b[2] | b[3]);
        s[18] = b[2] ^ (b[4] &  t34);
        s[9] =  t34 ^ (b[4] | b[0]);
        s[20] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000000008003UL;
    b[0] = s[0] ^ s[19] ^ s[8] ^ s[22] ^ s[11];
    b[1] = s[16] ^ s[5] ^ s[24] ^ s[13] ^ s[2];
    b[2] = s[7] ^ s[21] ^ s[10] ^ s[4] ^ s[18];
    b[3] = s[23] ^ s[12] ^ s[1] ^ s[15] ^ s[9];
    b[4] = s[14] ^ s[3] ^ s[17] ^ s[6] ^ s[20];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[19]^=t; s[8]^=t; s[22]^=t; s[11]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[16]^=t; s[5]^=t; s[24]^=t; s[13]^=t; s[2]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[7]^=t; s[21]^=t; s[10]^=t; s[4]^=t; s[18]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[23]^=t; s[12]^=t; s[1]^=t; s[15]^=t; s[9]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[14]^=t; s[3]^=t; s[17]^=t; s[6]^=t; s[20]^=t;
    s[16] = ROTL64(s[16], 1);
    s[8] = ROTL64(s[8], 3);
    s[21] = ROTL64(s[21], 6);
    s[24] = ROTL64(s[24], 10);
    s[4] = ROTL64(s[4], 15);
    s[15] = ROTL64(s[15], 21);
    s[23] = ROTL64(s[23], 28);
    s[19] = ROTL64(s[19], 36);
    s[13] = ROTL64(s[13], 45);
    s[12] = ROTL64(s[12], 55);
    s[2] = ROTL64(s[2], 2);
    s[20] = ROTL64(s[20], 14);
    s[14] = ROTL64(s[14], 27);
    s[22] = ROTL64(s[22], 41);
    s[9] = ROTL64(s[9], 56);
    s[6] = ROTL64(s[6], 8);
    s[1] = ROTL64(s[1], 25);
    s[10] = ROTL64(s[10], 43);
    s[7] = ROTL64(s[7], 62);
    s[11] = ROTL64(s[11], 18);
    s[17] = ROTL64(s[17], 39);
    s[18] = ROTL64(s[18], 61);
    s[3] = ROTL64(s[3], 20);
    s[5] = ROTL64(s[5], 44);
    b[0] = s[0];
    b[1] = s[5];
    b[2] = s[10];
    b[3] = s[15];
    b[4] = s[20];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[5] =  t12 ^ (b[2] | b[3]);
        s[10] = b[2] ^ (b[4] &  t34);
        s[15] =  t34 ^ (b[4] | b[0]);
        s[20] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[23];
    b[1] = s[3];
    b[2] = s[8];
    b[3] = s[13];
    b[4] = s[18];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[23] = b[0] ^ (b[2] &  t12);
        s[3] =  t12 ^ (b[2] | b[3]);
        s[8] = b[2] ^ (b[4] &  t34);
        s[13] =  t34 ^ (b[4] | b[0]);
        s[18] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[16];
    b[1] = s[21];
    b[2] = s[1];
    b[3] = s[6];
    b[4] = s[11];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[16] = b[0] ^ (b[2] &  t12);
        s[21] =  t12 ^ (b[2] | b[3]);
        s[1] = b[2] ^ (b[4] &  t34);
        s[6] =  t34 ^ (b[4] | b[0]);
        s[11] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[14];
    b[1] = s[19];
    b[2] = s[24];
    b[3] = s[4];
    b[4] = s[9];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[14] = b[0] ^ (b[2] &  t12);
        s[19] =  t12 ^ (b[2] | b[3]);
        s[24] = b[2] ^ (b[4] &  t34);
        s[4] =  t34 ^ (b[4] | b[0]);
        s[9] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[7];
    b[1] = s[12];
    b[2] = s[17];
    b[3] = s[22];
    b[4] = s[2];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[7] = b[0] ^ (b[2] &  t12);
        s[12] =  t12 ^ (b[2] | b[3]);
        s[17] = b[2] ^ (b[4] &  t34);
        s[22] =  t34 ^ (b[4] | b[0]);
        s[2] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000000008002UL;
    b[0] = s[0] ^ s[23] ^ s[16] ^ s[14] ^ s[7];
    b[1] = s[5] ^ s[3] ^ s[21] ^ s[19] ^ s[12];
    b[2] = s[10] ^ s[8] ^ s[1] ^ s[24] ^ s[17];
    b[3] = s[15] ^ s[13] ^ s[6] ^ s[4] ^ s[22];
    b[4] = s[20] ^ s[18] ^ s[11] ^ s[9] ^ s[2];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[23]^=t; s[16]^=t; s[14]^=t; s[7]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[5]^=t; s[3]^=t; s[21]^=t; s[19]^=t; s[12]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[10]^=t; s[8]^=t; s[1]^=t; s[24]^=t; s[17]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[15]^=t; s[13]^=t; s[6]^=t; s[4]^=t; s[22]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[20]^=t; s[18]^=t; s[11]^=t; s[9]^=t; s[2]^=t;
    s[5] = ROTL64(s[5], 1);
    s[16] = ROTL64(s[16], 3);
    s[8] = ROTL64(s[8], 6);
    s[21] = ROTL64(s[21], 10);
    s[24] = ROTL64(s[24], 15);
    s[4] = ROTL64(s[4], 21);
    s[15] = ROTL64(s[15], 28);
    s[23] = ROTL64(s[23], 36);
    s[19] = ROTL64(s[19], 45);
    s[13] = ROTL64(s[13], 55);
    s[12] = ROTL64(s[12], 2);
    s[2] = ROTL64(s[2], 14);
    s[20] = ROTL64(s[20], 27);
    s[14] = ROTL64(s[14], 41);
    s[22] = ROTL64(s[22], 56);
    s[9] = ROTL64(s[9], 8);
    s[6] = ROTL64(s[6], 25);
    s[1] = ROTL64(s[1], 43);
    s[10] = ROTL64(s[10], 62);
    s[7] = ROTL64(s[7], 18);
    s[11] = ROTL64(s[11], 39);
    s[17] = ROTL64(s[17], 61);
    s[18] = ROTL64(s[18], 20);
    s[3] = ROTL64(s[3], 44);
    b[0] = s[0];
    b[1] = s[3];
    b[2] = s[1];
    b[3] = s[4];
    b[4] = s[2];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[3] =  t12 ^ (b[2] | b[3]);
        s[1] = b[2] ^ (b[4] &  t34);
        s[4] =  t34 ^ (b[4] | b[0]);
        s[2] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[15];
    b[1] = s[18];
    b[2] = s[16];
    b[3] = s[19];
    b[4] = s[17];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[15] = b[0] ^ (b[2] &  t12);
        s[18] =  t12 ^ (b[2] | b[3]);
        s[16] = b[2] ^ (b[4] &  t34);
        s[19] =  t34 ^ (b[4] | b[0]);
        s[17] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[5];
    b[1] = s[8];
    b[2] = s[6];
    b[3] = s[9];
    b[4] = s[7];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[5] = b[0] ^ (b[2] &  t12);
        s[8] =  t12 ^ (b[2] | b[3]);
        s[6] = b[2] ^ (b[4] &  t34);
        s[9] =  t34 ^ (b[4] | b[0]);
        s[7] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[20];
    b[1] = s[23];
    b[2] = s[21];
    b[3] = s[24];
    b[4] = s[22];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[20] = b[0] ^ (b[2] &  t12);
        s[23] =  t12 ^ (b[2] | b[3]);
        s[21] = b[2] ^ (b[4] &  t34);
        s[24] =  t34 ^ (b[4] | b[0]);
        s[22] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[10];
    b[1] = s[13];
    b[2] = s[11];
    b[3] = s[14];
    b[4] = s[12];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[10] = b[0] ^ (b[2] &  t12);
        s[13] =  t12 ^ (b[2] | b[3]);
        s[11] = b[2] ^ (b[4] &  t34);
        s[14] =  t34 ^ (b[4] | b[0]);
        s[12] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000000000080UL;
    b[0] = s[0] ^ s[15] ^ s[5] ^ s[20] ^ s[10];
    b[1] = s[3] ^ s[18] ^ s[8] ^ s[23] ^ s[13];
    b[2] = s[1] ^ s[16] ^ s[6] ^ s[21] ^ s[11];
    b[3] = s[4] ^ s[19] ^ s[9] ^ s[24] ^ s[14];
    b[4] = s[2] ^ s[17] ^ s[7] ^ s[22] ^ s[12];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[15]^=t; s[5]^=t; s[20]^=t; s[10]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[3]^=t; s[18]^=t; s[8]^=t; s[23]^=t; s[13]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[1]^=t; s[16]^=t; s[6]^=t; s[21]^=t; s[11]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[4]^=t; s[19]^=t; s[9]^=t; s[24]^=t; s[14]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[2]^=t; s[17]^=t; s[7]^=t; s[22]^=t; s[12]^=t;
    s[3] = ROTL64(s[3], 1);
    s[5] = ROTL64(s[5], 3);
    s[16] = ROTL64(s[16], 6);
    s[8] = ROTL64(s[8], 10);
    s[21] = ROTL64(s[21], 15);
    s[24] = ROTL64(s[24], 21);
    s[4] = ROTL64(s[4], 28);
    s[15] = ROTL64(s[15], 36);
    s[23] = ROTL64(s[23], 45);
    s[19] = ROTL64(s[19], 55);
    s[13] = ROTL64(s[13], 2);
    s[12] = ROTL64(s[12], 14);
    s[2] = ROTL64(s[2], 27);
    s[20] = ROTL64(s[20], 41);
    s[14] = ROTL64(s[14], 56);
    s[22] = ROTL64(s[22], 8);
    s[9] = ROTL64(s[9], 25);
    s[6] = ROTL64(s[6], 43);
    s[1] = ROTL64(s[1], 62);
    s[10] = ROTL64(s[10], 18);
    s[7] = ROTL64(s[7], 39);
    s[11] = ROTL64(s[11], 61);
    s[17] = ROTL64(s[17], 20);
    s[18] = ROTL64(s[18], 44);
    b[0] = s[0];
    b[1] = s[18];
    b[2] = s[6];
    b[3] = s[24];
    b[4] = s[12];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[18] =  t12 ^ (b[2] | b[3]);
        s[6] = b[2] ^ (b[4] &  t34);
        s[24] =  t34 ^ (b[4] | b[0]);
        s[12] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[4];
    b[1] = s[17];
    b[2] = s[5];
    b[3] = s[23];
    b[4] = s[11];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[4] = b[0] ^ (b[2] &  t12);
        s[17] =  t12 ^ (b[2] | b[3]);
        s[5] = b[2] ^ (b[4] &  t34);
        s[23] =  t34 ^ (b[4] | b[0]);
        s[11] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[3];
    b[1] = s[16];
    b[2] = s[9];
    b[3] = s[22];
    b[4] = s[10];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[3] = b[0] ^ (b[2] &  t12);
        s[16] =  t12 ^ (b[2] | b[3]);
        s[9] = b[2] ^ (b[4] &  t34);
        s[22] =  t34 ^ (b[4] | b[0]);
        s[10] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[2];
    b[1] = s[15];
    b[2] = s[8];
    b[3] = s[21];
    b[4] = s[14];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[2] = b[0] ^ (b[2] &  t12);
        s[15] =  t12 ^ (b[2] | b[3]);
        s[8] = b[2] ^ (b[4] &  t34);
        s[21] =  t34 ^ (b[4] | b[0]);
        s[14] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[1];
    b[1] = s[19];
    b[2] = s[7];
    b[3] = s[20];
    b[4] = s[13];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[1] = b[0] ^ (b[2] &  t12);
        s[19] =  t12 ^ (b[2] | b[3]);
        s[7] = b[2] ^ (b[4] &  t34);
        s[20] =  t34 ^ (b[4] | b[0]);
        s[13] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x800aUL;
    b[0] = s[0] ^ s[4] ^ s[3] ^ s[2] ^ s[1];
    b[1] = s[18] ^ s[17] ^ s[16] ^ s[15] ^ s[19];
    b[2] = s[6] ^ s[5] ^ s[9] ^ s[8] ^ s[7];
    b[3] = s[24] ^ s[23] ^ s[22] ^ s[21] ^ s[20];
    b[4] = s[12] ^ s[11] ^ s[10] ^ s[14] ^ s[13];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[4]^=t; s[3]^=t; s[2]^=t; s[1]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[18]^=t; s[17]^=t; s[16]^=t; s[15]^=t; s[19]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[6]^=t; s[5]^=t; s[9]^=t; s[8]^=t; s[7]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[24]^=t; s[23]^=t; s[22]^=t; s[21]^=t; s[20]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[12]^=t; s[11]^=t; s[10]^=t; s[14]^=t; s[13]^=t;
    s[18] = ROTL64(s[18], 1);
    s[3] = ROTL64(s[3], 3);
    s[5] = ROTL64(s[5], 6);
    s[16] = ROTL64(s[16], 10);
    s[8] = ROTL64(s[8], 15);
    s[21] = ROTL64(s[21], 21);
    s[24] = ROTL64(s[24], 28);
    s[4] = ROTL64(s[4], 36);
    s[15] = ROTL64(s[15], 45);
    s[23] = ROTL64(s[23], 55);
    s[19] = ROTL64(s[19], 2);
    s[13] = ROTL64(s[13], 14);
    s[12] = ROTL64(s[12], 27);
    s[2] = ROTL64(s[2], 41);
    s[20] = ROTL64(s[20], 56);
    s[14] = ROTL64(s[14], 8);
    s[22] = ROTL64(s[22], 25);
    s[9] = ROTL64(s[9], 43);
    s[6] = ROTL64(s[6], 62);
    s[1] = ROTL64(s[1], 18);
    s[10] = ROTL64(s[10], 39);
    s[7] = ROTL64(s[7], 61);
    s[11] = ROTL64(s[11], 20);
    s[17] = ROTL64(s[17], 44);
    b[0] = s[0];
    b[1] = s[17];
    b[2] = s[9];
    b[3] = s[21];
    b[4] = s[13];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[17] =  t12 ^ (b[2] | b[3]);
        s[9] = b[2] ^ (b[4] &  t34);
        s[21] =  t34 ^ (b[4] | b[0]);
        s[13] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[24];
    b[1] = s[11];
    b[2] = s[3];
    b[3] = s[15];
    b[4] = s[7];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[24] = b[0] ^ (b[2] &  t12);
        s[11] =  t12 ^ (b[2] | b[3]);
        s[3] = b[2] ^ (b[4] &  t34);
        s[15] =  t34 ^ (b[4] | b[0]);
        s[7] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[18];
    b[1] = s[5];
    b[2] = s[22];
    b[3] = s[14];
    b[4] = s[1];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[18] = b[0] ^ (b[2] &  t12);
        s[5] =  t12 ^ (b[2] | b[3]);
        s[22] = b[2] ^ (b[4] &  t34);
        s[14] =  t34 ^ (b[4] | b[0]);
        s[1] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[12];
    b[1] = s[4];
    b[2] = s[16];
    b[3] = s[8];
    b[4] = s[20];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[12] = b[0] ^ (b[2] &  t12);
        s[4] =  t12 ^ (b[2] | b[3]);
        s[16] = b[2] ^ (b[4] &  t34);
        s[8] =  t34 ^ (b[4] | b[0]);
        s[20] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[6];
    b[1] = s[23];
    b[2] = s[10];
    b[3] = s[2];
    b[4] = s[19];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[6] = b[0] ^ (b[2] &  t12);
        s[23] =  t12 ^ (b[2] | b[3]);
        s[10] = b[2] ^ (b[4] &  t34);
        s[2] =  t34 ^ (b[4] | b[0]);
        s[19] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x800000008000000aUL;
    b[0] = s[0] ^ s[24] ^ s[18] ^ s[12] ^ s[6];
    b[1] = s[17] ^ s[11] ^ s[5] ^ s[4] ^ s[23];
    b[2] = s[9] ^ s[3] ^ s[22] ^ s[16] ^ s[10];
    b[3] = s[21] ^ s[15] ^ s[14] ^ s[8] ^ s[2];
    b[4] = s[13] ^ s[7] ^ s[1] ^ s[20] ^ s[19];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[24]^=t; s[18]^=t; s[12]^=t; s[6]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[17]^=t; s[11]^=t; s[5]^=t; s[4]^=t; s[23]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[9]^=t; s[3]^=t; s[22]^=t; s[16]^=t; s[10]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[21]^=t; s[15]^=t; s[14]^=t; s[8]^=t; s[2]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[13]^=t; s[7]^=t; s[1]^=t; s[20]^=t; s[19]^=t;
    s[17] = ROTL64(s[17], 1);
    s[18] = ROTL64(s[18], 3);
    s[3] = ROTL64(s[3], 6);
    s[5] = ROTL64(s[5], 10);
    s[16] = ROTL64(s[16], 15);
    s[8] = ROTL64(s[8], 21);
    s[21] = ROTL64(s[21], 28);
    s[24] = ROTL64(s[24], 36);
    s[4] = ROTL64(s[4], 45);
    s[15] = ROTL64(s[15], 55);
    s[23] = ROTL64(s[23], 2);
    s[19] = ROTL64(s[19], 14);
    s[13] = ROTL64(s[13], 27);
    s[12] = ROTL64(s[12], 41);
    s[2] = ROTL64(s[2], 56);
    s[20] = ROTL64(s[20], 8);
    s[14] = ROTL64(s[14], 25);
    s[22] = ROTL64(s[22], 43);
    s[9] = ROTL64(s[9], 62);
    s[6] = ROTL64(s[6], 18);
    s[1] = ROTL64(s[1], 39);
    s[10] = ROTL64(s[10], 61);
    s[7] = ROTL64(s[7], 20);
    s[11] = ROTL64(s[11], 44);
    b[0] = s[0];
    b[1] = s[11];
    b[2] = s[22];
    b[3] = s[8];
    b[4] = s[19];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[11] =  t12 ^ (b[2] | b[3]);
        s[22] = b[2] ^ (b[4] &  t34);
        s[8] =  t34 ^ (b[4] | b[0]);
        s[19] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[21];
    b[1] = s[7];
    b[2] = s[18];
    b[3] = s[4];
    b[4] = s[10];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[21] = b[0] ^ (b[2] &  t12);
        s[7] =  t12 ^ (b[2] | b[3]);
        s[18] = b[2] ^ (b[4] &  t34);
        s[4] =  t34 ^ (b[4] | b[0]);
        s[10] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[17];
    b[1] = s[3];
    b[2] = s[14];
    b[3] = s[20];
    b[4] = s[6];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[17] = b[0] ^ (b[2] &  t12);
        s[3] =  t12 ^ (b[2] | b[3]);
        s[14] = b[2] ^ (b[4] &  t34);
        s[20] =  t34 ^ (b[4] | b[0]);
        s[6] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[13];
    b[1] = s[24];
    b[2] = s[5];
    b[3] = s[16];
    b[4] = s[2];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[13] = b[0] ^ (b[2] &  t12);
        s[24] =  t12 ^ (b[2] | b[3]);
        s[5] = b[2] ^ (b[4] &  t34);
        s[16] =  t34 ^ (b[4] | b[0]);
        s[2] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[9];
    b[1] = s[15];
    b[2] = s[1];
    b[3] = s[12];
    b[4] = s[23];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[9] = b[0] ^ (b[2] &  t12);
        s[15] =  t12 ^ (b[2] | b[3]);
        s[1] = b[2] ^ (b[4] &  t34);
        s[12] =  t34 ^ (b[4] | b[0]);
        s[23] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000080008081UL;
    b[0] = s[0] ^ s[21] ^ s[17] ^ s[13] ^ s[9];
    b[1] = s[11] ^ s[7] ^ s[3] ^ s[24] ^ s[15];
    b[2] = s[22] ^ s[18] ^ s[14] ^ s[5] ^ s[1];
    b[3] = s[8] ^ s[4] ^ s[20] ^ s[16] ^ s[12];
    b[4] = s[19] ^ s[10] ^ s[6] ^ s[2] ^ s[23];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[21]^=t; s[17]^=t; s[13]^=t; s[9]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[11]^=t; s[7]^=t; s[3]^=t; s[24]^=t; s[15]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[22]^=t; s[18]^=t; s[14]^=t; s[5]^=t; s[1]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[8]^=t; s[4]^=t; s[20]^=t; s[16]^=t; s[12]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[19]^=t; s[10]^=t; s[6]^=t; s[2]^=t; s[23]^=t;
    s[11] = ROTL64(s[11], 1);
    s[17] = ROTL64(s[17], 3);
    s[18] = ROTL64(s[18], 6);
    s[3] = ROTL64(s[3], 10);
    s[5] = ROTL64(s[5], 15);
    s[16] = ROTL64(s[16], 21);
    s[8] = ROTL64(s[8], 28);
    s[21] = ROTL64(s[21], 36);
    s[24] = ROTL64(s[24], 45);
    s[4] = ROTL64(s[4], 55);
    s[15] = ROTL64(s[15], 2);
    s[23] = ROTL64(s[23], 14);
    s[19] = ROTL64(s[19], 27);
    s[13] = ROTL64(s[13], 41);
    s[12] = ROTL64(s[12], 56);
    s[2] = ROTL64(s[2], 8);
    s[20] = ROTL64(s[20], 25);
    s[14] = ROTL64(s[14], 43);
    s[22] = ROTL64(s[22], 62);
    s[9] = ROTL64(s[9], 18);
    s[6] = ROTL64(s[6], 39);
    s[1] = ROTL64(s[1], 61);
    s[10] = ROTL64(s[10], 20);
    s[7] = ROTL64(s[7], 44);
    b[0] = s[0];
    b[1] = s[7];
    b[2] = s[14];
    b[3] = s[16];
    b[4] = s[23];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[7] =  t12 ^ (b[2] | b[3]);
        s[14] = b[2] ^ (b[4] &  t34);
        s[16] =  t34 ^ (b[4] | b[0]);
        s[23] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[8];
    b[1] = s[10];
    b[2] = s[17];
    b[3] = s[24];
    b[4] = s[1];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[8] = b[0] ^ (b[2] &  t12);
        s[10] =  t12 ^ (b[2] | b[3]);
        s[17] = b[2] ^ (b[4] &  t34);
        s[24] =  t34 ^ (b[4] | b[0]);
        s[1] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[11];
    b[1] = s[18];
    b[2] = s[20];
    b[3] = s[2];
    b[4] = s[9];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[11] = b[0] ^ (b[2] &  t12);
        s[18] =  t12 ^ (b[2] | b[3]);
        s[20] = b[2] ^ (b[4] &  t34);
        s[2] =  t34 ^ (b[4] | b[0]);
        s[9] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[19];
    b[1] = s[21];
    b[2] = s[3];
    b[3] = s[5];
    b[4] = s[12];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[19] = b[0] ^ (b[2] &  t12);
        s[21] =  t12 ^ (b[2] | b[3]);
        s[3] = b[2] ^ (b[4] &  t34);
        s[5] =  t34 ^ (b[4] | b[0]);
        s[12] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[22];
    b[1] = s[4];
    b[2] = s[6];
    b[3] = s[13];
    b[4] = s[15];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[22] = b[0] ^ (b[2] &  t12);
        s[4] =  t12 ^ (b[2] | b[3]);
        s[6] = b[2] ^ (b[4] &  t34);
        s[13] =  t34 ^ (b[4] | b[0]);
        s[15] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000000008080UL;
    b[0] = s[0] ^ s[8] ^ s[11] ^ s[19] ^ s[22];
    b[1] = s[7] ^ s[10] ^ s[18] ^ s[21] ^ s[4];
    b[2] = s[14] ^ s[17] ^ s[20] ^ s[3] ^ s[6];
    b[3] = s[16] ^ s[24] ^ s[2] ^ s[5] ^ s[13];
    b[4] = s[23] ^ s[1] ^ s[9] ^ s[12] ^ s[15];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[8]^=t; s[11]^=t; s[19]^=t; s[22]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[7]^=t; s[10]^=t; s[18]^=t; s[21]^=t; s[4]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[14]^=t; s[17]^=t; s[20]^=t; s[3]^=t; s[6]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[16]^=t; s[24]^=t; s[2]^=t; s[5]^=t; s[13]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[23]^=t; s[1]^=t; s[9]^=t; s[12]^=t; s[15]^=t;
    s[7] = ROTL64(s[7], 1);
    s[11] = ROTL64(s[11], 3);
    s[17] = ROTL64(s[17], 6);
    s[18] = ROTL64(s[18], 10);
    s[3] = ROTL64(s[3], 15);
    s[5] = ROTL64(s[5], 21);
    s[16] = ROTL64(s[16], 28);
    s[8] = ROTL64(s[8], 36);
    s[21] = ROTL64(s[21], 45);
    s[24] = ROTL64(s[24], 55);
    s[4] = ROTL64(s[4], 2);
    s[15] = ROTL64(s[15], 14);
    s[23] = ROTL64(s[23], 27);
    s[19] = ROTL64(s[19], 41);
    s[13] = ROTL64(s[13], 56);
    s[12] = ROTL64(s[12], 8);
    s[2] = ROTL64(s[2], 25);
    s[20] = ROTL64(s[20], 43);
    s[14] = ROTL64(s[14], 62);
    s[22] = ROTL64(s[22], 18);
    s[9] = ROTL64(s[9], 39);
    s[6] = ROTL64(s[6], 61);
    s[1] = ROTL64(s[1], 20);
    s[10] = ROTL64(s[10], 44);
    b[0] = s[0];
    b[1] = s[10];
    b[2] = s[20];
    b[3] = s[5];
    b[4] = s[15];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[10] =  t12 ^ (b[2] | b[3]);
        s[20] = b[2] ^ (b[4] &  t34);
        s[5] =  t34 ^ (b[4] | b[0]);
        s[15] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[16];
    b[1] = s[1];
    b[2] = s[11];
    b[3] = s[21];
    b[4] = s[6];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[16] = b[0] ^ (b[2] &  t12);
        s[1] =  t12 ^ (b[2] | b[3]);
        s[11] = b[2] ^ (b[4] &  t34);
        s[21] =  t34 ^ (b[4] | b[0]);
        s[6] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[7];
    b[1] = s[17];
    b[2] = s[2];
    b[3] = s[12];
    b[4] = s[22];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[7] = b[0] ^ (b[2] &  t12);
        s[17] =  t12 ^ (b[2] | b[3]);
        s[2] = b[2] ^ (b[4] &  t34);
        s[12] =  t34 ^ (b[4] | b[0]);
        s[22] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[23];
    b[1] = s[8];
    b[2] = s[18];
    b[3] = s[3];
    b[4] = s[13];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[23] = b[0] ^ (b[2] &  t12);
        s[8] =  t12 ^ (b[2] | b[3]);
        s[18] = b[2] ^ (b[4] &  t34);
        s[3] =  t34 ^ (b[4] | b[0]);
        s[13] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[14];
    b[1] = s[24];
    b[2] = s[9];
    b[3] = s[19];
    b[4] = s[4];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[14] = b[0] ^ (b[2] &  t12);
        s[24] =  t12 ^ (b[2] | b[3]);
        s[9] = b[2] ^ (b[4] &  t34);
        s[19] =  t34 ^ (b[4] | b[0]);
        s[4] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x80000001UL;
    b[0] = s[0] ^ s[16] ^ s[7] ^ s[23] ^ s[14];
    b[1] = s[10] ^ s[1] ^ s[17] ^ s[8] ^ s[24];
    b[2] = s[20] ^ s[11] ^ s[2] ^ s[18] ^ s[9];
    b[3] = s[5] ^ s[21] ^ s[12] ^ s[3] ^ s[19];
    b[4] = s[15] ^ s[6] ^ s[22] ^ s[13] ^ s[4];
    t = b[4] ^ ROTL64(b[1], 1);
    s[0]^=t; s[16]^=t; s[7]^=t; s[23]^=t; s[14]^=t;
    t = b[0] ^ ROTL64(b[2], 1);
    s[10]^=t; s[1]^=t; s[17]^=t; s[8]^=t; s[24]^=t;
    t = b[1] ^ ROTL64(b[3], 1);
    s[20]^=t; s[11]^=t; s[2]^=t; s[18]^=t; s[9]^=t;
    t = b[2] ^ ROTL64(b[4], 1);
    s[5]^=t; s[21]^=t; s[12]^=t; s[3]^=t; s[19]^=t;
    t = b[3] ^ ROTL64(b[0], 1);
    s[15]^=t; s[6]^=t; s[22]^=t; s[13]^=t; s[4]^=t;
    s[10] = ROTL64(s[10], 1);
    s[7] = ROTL64(s[7], 3);
    s[11] = ROTL64(s[11], 6);
    s[17] = ROTL64(s[17], 10);
    s[18] = ROTL64(s[18], 15);
    s[3] = ROTL64(s[3], 21);
    s[5] = ROTL64(s[5], 28);
    s[16] = ROTL64(s[16], 36);
    s[8] = ROTL64(s[8], 45);
    s[21] = ROTL64(s[21], 55);
    s[24] = ROTL64(s[24], 2);
    s[4] = ROTL64(s[4], 14);
    s[15] = ROTL64(s[15], 27);
    s[23] = ROTL64(s[23], 41);
    s[19] = ROTL64(s[19], 56);
    s[13] = ROTL64(s[13], 8);
    s[12] = ROTL64(s[12], 25);
    s[2] = ROTL64(s[2], 43);
    s[20] = ROTL64(s[20], 62);
    s[14] = ROTL64(s[14], 18);
    s[22] = ROTL64(s[22], 39);
    s[9] = ROTL64(s[9], 61);
    s[6] = ROTL64(s[6], 20);
    s[1] = ROTL64(s[1], 44);
    b[0] = s[0];
    b[1] = s[1];
    b[2] = s[2];
    b[3] = s[3];
    b[4] = s[4];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[0] = b[0] ^ (b[2] &  t12);
        s[1] =  t12 ^ (b[2] | b[3]);
        s[2] = b[2] ^ (b[4] &  t34);
        s[3] =  t34 ^ (b[4] | b[0]);
        s[4] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[5];
    b[1] = s[6];
    b[2] = s[7];
    b[3] = s[8];
    b[4] = s[9];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[5] = b[0] ^ (b[2] &  t12);
        s[6] =  t12 ^ (b[2] | b[3]);
        s[7] = b[2] ^ (b[4] &  t34);
        s[8] =  t34 ^ (b[4] | b[0]);
        s[9] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[10];
    b[1] = s[11];
    b[2] = s[12];
    b[3] = s[13];
    b[4] = s[14];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[10] = b[0] ^ (b[2] &  t12);
        s[11] =  t12 ^ (b[2] | b[3]);
        s[12] = b[2] ^ (b[4] &  t34);
        s[13] =  t34 ^ (b[4] | b[0]);
        s[14] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[15];
    b[1] = s[16];
    b[2] = s[17];
    b[3] = s[18];
    b[4] = s[19];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[15] = b[0] ^ (b[2] &  t12);
        s[16] =  t12 ^ (b[2] | b[3]);
        s[17] = b[2] ^ (b[4] &  t34);
        s[18] =  t34 ^ (b[4] | b[0]);
        s[19] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    b[0] = s[20];
    b[1] = s[21];
    b[2] = s[22];
    b[3] = s[23];
    b[4] = s[24];
    {
        uint64_t t12, t34;

        t12 = (b[1] ^ b[2]); t34 = (b[3] ^ b[4]);
        s[20] = b[0] ^ (b[2] &  t12);
        s[21] =  t12 ^ (b[2] | b[3]);
        s[22] = b[2] ^ (b[4] &  t34);
        s[23] =  t34 ^ (b[4] | b[0]);
        s[24] = b[4] ^ (b[1] & (b[0] ^ b[1]));
    }
    s[0] ^= 0x8000000080008008UL;
}
#endif /* HASH_SHA3_SMALL */

