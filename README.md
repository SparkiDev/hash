Hash Algorithms
===============

Open Source Hash Algorithms Implementation

Written by Sean Parkinson (sparkinson@iprimus.com.au)

For information on copyright see: COPYRIGHT.md

Contents of Repository
----------------------

This code implements a number of hash algorithms including:
 - SHA-224, SHA-256, SHA-384, SHA-512
 - SHA-512_224 SHA-512_256
 - SHA3-224, SHA3-256, SHA3-384, SHA3-512
 - BLAKE2b-224, BLAKE2b-256, BLAKE2b-384, BLAKE2b-512
 - BLAKE2s-224, BLAKE2s-256

There is a common API with which to chose and use a hash algorithm.

The code is fast C.
The library can be compiled to use OpenSSL for SHA-2 algorithms.

Building
--------

make

Testing
-------

Run all tests: hash_test

Run tests on internal implementation: hash_test -int

Run all algorithms and calculate speed: hash_test -speed

Performance
-----------

Examples of hash_test output on a 3.4 GHz Intel Ivy Bridge CPU:

```
./hash_test -speed

Cycles/sec: 3400256826
SHA-224 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 1346636 0.409     1032 3294822   64.52  52702761   52.703
    64: 1840962 1.005     1855 1833022   28.99 117279100  117.279
   256:  754439 1.005     4528  750940   17.69 192230167  192.230
  1024:  221601 1.002    15378  221111   15.02 226406817  226.407
  8192:   29315 0.999   115836   29354   14.14 240466421  240.466
 16384:   14763 1.001   230562   14747   14.07 241625526  241.626
SHA-256 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 3346709 0.999     1015 3350006   63.46  53579928   53.580
    64: 1755424 1.003     1943 1750003   30.36 111994134  111.994
   256:  726705 1.008     4718  720698   18.43 184474082  184.474
  1024:  216012 0.999    15728  216191   15.36 221367584  221.368
  8192:   29350 1.001   115968   29320   14.16 240193075  240.193
 16384:   14749 1.000   230611   14744   14.08 241574380  241.574
SHA-384 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 2346623 0.990     1435 2369516   89.70  37908858   37.909
    64: 2338553 0.992     1442 2358014   22.53 150907049  150.907
   256:  831358 1.001     4095  830343   16.00 212523571  212.524
  1024:  289482 1.001    11757  289211   11.48 296141861  296.142
  8192:   38406 0.956    84677   40155   10.34 328953748  328.954
 16384:   20218 0.998   167787   20265   10.24 332026679  332.027
SHA-512 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 2349866 1.009     1459 2330539   91.21  37280213   37.280
    64: 2325757 1.005     1469 2314674   22.97 148056443  148.056
   256:  837501 1.009     4095  830343   16.00 212536920  212.537
  1024:  288646 1.004    11829  287450   11.55 294338685  294.339
  8192:   38579 0.959    84508   40235   10.32 329610818  329.611
 16384:   20298 1.002   167830   20260   10.24 331941772  331.942
SHA-512_224 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 2401311 1.003     1420 2394547   88.77  38302672   38.303
    64: 2392861 1.003     1425 2386145   22.27 152699922  152.700
   256:  848155 1.016     4071  835238   15.90 213807976  213.808
  1024:  289408 1.037    12186  279029   11.90 285714650  285.715
  8192:   38309 0.952    84474   40252   10.31 329743057  329.743
 16384:   20301 1.003   167968   20243   10.25 331668548  331.669
SHA-512_256 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 2366219 1.003     1441 2359650   90.07  37750778   37.751
    64: 2353118 1.003     1448 2348243   22.64 150218840  150.219
   256:  829533 1.002     4106  828119   16.04 211961249  211.961
  1024:  288891 1.007    11846  287038   11.57 293909049  293.909
  8192:   39635 0.986    84584   40199   10.33 329313033  329.313
 16384:   20315 1.003   167862   20256   10.25 331878424  331.878
SHA-3_224 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 1312333 1.000     2591 1312333  161.96  20993899   20.994
    64: 1299792 1.002     2621 1297312   40.95  83024724   83.025
   256:  707944 1.005     4824  704862   18.85 180408234  180.408
  1024:  188547 1.003    18081  188056   17.66 192561280  192.561
  8192:   27014 1.002   126101   26964   15.39 220892866  220.893
 16384:   13536 1.001   251366   13527   15.34 221627509  221.628
SHA-3_256 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 1326670 1.001     2566 1325119  160.39  21199472   21.199
    64: 1313347 1.002     2594 1310816   40.55  83863206   83.863
   256:  712095 1.001     4778  711648   18.66 182174714  182.175
  1024:  188903 1.003    18055  188327   17.63 192843861  192.844
  8192:   25187 0.995   134285   25321   16.39 207431120  207.431
 16384:   12808 1.001   265648   12799   16.21 209712614  209.713
SHA-3_384 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 1388993 1.003     2454 1385597  153.40  22166127   22.166
    64: 1357387 1.004     2515 1351990   39.30  86509979   86.510
   256:  502179 1.000     6768  502402   26.44 128600298  128.600
  1024:  156997 1.001    21689  156773   21.18 160530395  160.530
  8192:   20182 1.001   168585   20169   20.58 165227257  165.227
 16384:   10103 1.001   336950   10091   20.57 165335060  165.335
SHA-3_512 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 1454966 0.995     2325 1462476  145.36  23392499   23.392
    64: 1456836 1.006     2348 1448150   36.69  92664283   92.664
   256:  392322 0.997     8644  393366   33.77 100694436  100.694
  1024:   96223 0.898    31727  107172   30.98 109741051  109.741
  8192:   14215 1.001   239454   14200   29.23 116326530  116.327
 16384:    7109 1.001   478860    7100   29.23 116338355  116.338
BLAKE2b_512 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 5493145 0.999      618 5502033   38.64  88000737   88.001
    64: 5519897 1.006      619 5493145    9.68 351177671  351.178
   256: 2884017 1.003     1182 2876697    4.62 736145847  736.146
  1024:  746652 0.996     4537  749450    4.43 767384416  767.384
  8192:   85131 0.899    35899   94717    4.38 775919295  775.919
 16384:   47504 1.001    71645   47459    4.37 777577043  777.577
BLAKE2s_256 C
    Op      ops  secs     c/op   ops/s     c/B       B/s     mB/s
    16: 6615285 1.003      515 6602440   32.22 105528914  105.529
    64: 6641126 1.003      513 6628180    8.02 423967975  423.968
   256: 1757238 1.001     1936 1756331    7.57 449440230  449.440
  1024:  448760 1.003     7599  447461    7.42 458161253  458.161
  8192:   56195 1.001    60545   56160    7.39 460064088  460.064
 16384:   28120 1.001   120993   28102    7.38 460434524  460.435

```

